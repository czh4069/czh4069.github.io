<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mitaiair - User Center</title>
    <style>
        :root { --primary: #000; --bg: #f4f7f6; --text: #333; }
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; background: var(--bg); color: var(--text); display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { width: 100%; max-width: 500px; background: white; padding: 35px; border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.06); box-sizing: border-box; position: relative; overflow: hidden;}
        .hidden { display: none !important; }

        /* --- 动画核心逻辑 --- */
        .intro-box { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 250px; }
        
        .stroke-wrapper { 
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1); 
            transform: translateY(40px); /* 初始居中偏下 */
        }
        /* 写完后立刻触发这个类 */
        .stroke-wrapper.moved { transform: translateY(-15px); } 

        .stroke-text { width: 100%; max-width: 400px; height: auto; }
        .stroke-text text { 
            fill: none; stroke: #000; stroke-width: 1.2; stroke-linecap: round; 
            stroke-dasharray: 2000; stroke-dashoffset: 2000;
            font-family: "Apple Chancery", cursive; font-size: 65px;
            /* 动画时间设为 5s，写完即止 */
            animation: drawBrand 5s ease-in-out forwards;
        }
        @keyframes drawBrand { to { stroke-dashoffset: 0; } }

        .slogan { 
            opacity: 0; transform: translateY(10px); 
            transition: all 0.8s ease; 
            font-size: 16px; color: #999; font-weight: 300; letter-spacing: 2px;
            margin-top: 5px;
        }
        .slogan.show { opacity: 1; transform: translateY(0); }

        /* 按钮渐显 */
        #start-btn { animation: fadeIn 1s ease forwards; margin-top: 20px; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* 基础 UI */
        input { width: 100%; padding: 14px; margin: 10px 0; border: 1px solid #eee; border-radius: 12px; box-sizing: border-box; font-size: 16px; background: #f9f9f9; }
        button { width: 100%; padding: 14px; margin-top: 10px; background: #000; color: white; border: none; border-radius: 12px; cursor: pointer; font-size: 16px; transition: 0.3s; }
        .secondary { background: #f0f0f2; color: #333; }
    </style>
</head>
<body>

<div id="screen-intro" class="container">
    <div class="intro-box">
        <div id="brand-move" class="stroke-wrapper">
            <svg class="stroke-text" viewBox="0 0 400 120">
                <text id="mitaiair-text" x="50%" y="70%" text-anchor="middle">mitaiair</text>
            </svg>
        </div>
        <div id="slogan-text" class="slogan">你的下一代用户中心</div>
        <button id="start-btn" class="hidden" onclick="showScreen('screen-setup-1')">开始体验</button>
    </div>
</div>

<div id="screen-setup-1" class="container hidden">
    <h2 style="text-align:center">初始化管理员</h2>
    <input type="text" id="set-admin-u" placeholder="管理员账号">
    <input type="password" id="set-admin-p" placeholder="设置密码">
    <button onclick="saveAdmin()">完成设置</button>
</div>

<div id="screen-login" class="container hidden">
    <h2 style="text-align:center">登录</h2>
    <input type="text" id="l-u" placeholder="账号">
    <input type="password" id="l-p" placeholder="密码">
    <button onclick="alert('登录逻辑执行')">进入</button>
</div>

<script>
    const brandText = document.getElementById('mitaiair-text');
    const brandWrapper = document.getElementById('brand-move');
    const slogan = document.getElementById('slogan-text');
    const startBtn = document.getElementById('start-btn');

    // 关键修复：监听 CSS 动画结束事件
    brandText.addEventListener('animationend', () => {
        // 动画一旦写完，立刻执行动作
        brandWrapper.classList.add('moved');
        slogan.classList.add('show');
        // 稍微给 0.5 秒让上移更有丝滑感，然后显示按钮
        setTimeout(() => {
            startBtn.classList.remove('hidden');
        }, 500);
    });

    function showScreen(id) {
        document.querySelectorAll('.container').forEach(c => c.classList.add('hidden'));
        document.getElementById(id).classList.remove('hidden');
    }

    function saveAdmin() {
        localStorage.setItem('init', 'true');
        location.reload();
    }

    window.onload = () => {
        if(localStorage.getItem('init') === 'true') {
            showScreen('screen-login');
        }
    };
</script>
</body>
</html>
